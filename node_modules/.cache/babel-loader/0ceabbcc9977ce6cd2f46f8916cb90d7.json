{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* \nThe purpose of this file is to evaluate view data for generating reports\nregarding analytics of application. \n*/\nimport { useState } from 'react';\nexport default function GetTabAnalytics(instance) {\n  _s();\n\n  const [start, stop, tab] = instance; // time viewed tab\n\n  const timeDiff = stop - start;\n  const [data, setData] = useState(null); // get analytic data about the evaluating tab\n\n  fetch(\"https://htxrockets.com/api/archived-game/0022101142/analytics/\" + tab + \"/\").then(res => res.json()).then(res => {\n    setData(res.a);\n  }); // update sum of views\n\n  const newSum = data.sum + 1; // update logs \n\n  const newLogs = data.logs.append(timeDiff); // update total time viewed\n\n  const newTotalTime = data.totalTime += timeDiff; // update avg time viewed\n\n  const newAvg = newTotalTime / newLogs.length; // set new tab data\n\n  const thisState = {\n    tab: {\n      'views': newSum,\n      'logs': newLogs,\n      'totalTime': newTotalTime,\n      'avgTime': newAvg\n    }\n  }; // update database \n\n  fetch(\"https://htxrockets.com/api/archived-game/0022101142/analytics/\" + tab + \"/\", {\n    method: 'PUT',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(thisState)\n  }).then(response => {\n    console.log(response);\n  }).catch(error => {\n    console.log(error);\n  });\n}\n\n_s(GetTabAnalytics, \"tS33Y+HHWphSzOQfJpfDHpn7jns=\");\n\n_c = GetTabAnalytics;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetTabAnalytics\");","map":{"version":3,"sources":["/Users/benniewalker/Desktop/2022_development/HoustonRockets/advancing_project/client/src/analytics/TabAnalytics.js"],"names":["useState","GetTabAnalytics","instance","start","stop","tab","timeDiff","data","setData","fetch","then","res","json","a","newSum","sum","newLogs","logs","append","newTotalTime","totalTime","newAvg","length","thisState","method","headers","body","JSON","stringify","response","console","log","catch","error"],"mappings":";;AAAA;AACA;AACA;AACA;AAIA,SAASA,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAAA;;AAE9C,QAAM,CAAEC,KAAF,EAASC,IAAT,EAAeC,GAAf,IAAuBH,QAA7B,CAF8C,CAI9C;;AACA,QAAMI,QAAQ,GAAGF,IAAI,GAAGD,KAAxB;AAEA,QAAM,CAAEI,IAAF,EAAQC,OAAR,IAAoBR,QAAQ,CAAC,IAAD,CAAlC,CAP8C,CAS9C;;AACAS,EAAAA,KAAK,CAAC,mEAAmEJ,GAAnE,GAAyE,GAA1E,CAAL,CACCK,IADD,CACQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADhB,EAECF,IAFD,CAEQC,GAAD,IAAS;AACZH,IAAAA,OAAO,CAACG,GAAG,CAACE,CAAL,CAAP;AACH,GAJD,EAV8C,CAgB9C;;AACA,QAAMC,MAAM,GAAGP,IAAI,CAACQ,GAAL,GAAW,CAA1B,CAjB8C,CAkB9C;;AACA,QAAMC,OAAO,GAAGT,IAAI,CAACU,IAAL,CAAUC,MAAV,CAAiBZ,QAAjB,CAAhB,CAnB8C,CAoB9C;;AACA,QAAMa,YAAY,GAAGZ,IAAI,CAACa,SAAL,IAAkBd,QAAvC,CArB8C,CAsB9C;;AACA,QAAMe,MAAM,GAAGF,YAAY,GAAGH,OAAO,CAACM,MAAtC,CAvB8C,CAyB9C;;AACA,QAAMC,SAAS,GAAG;AACdlB,IAAAA,GAAG,EAAE;AACD,eAASS,MADR;AAED,cAAQE,OAFP;AAGD,mBAAaG,YAHZ;AAID,iBAAWE;AAJV;AADS,GAAlB,CA1B8C,CAmC9C;;AACAZ,EAAAA,KAAK,CAAC,mEAAmEJ,GAAnE,GAAyE,GAA1E,EAA+E;AAChFmB,IAAAA,MAAM,EAAE,KADwE;AAEhFC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFuE;AAMhFC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,SAAf;AAN0E,GAA/E,CAAL,CAOGb,IAPH,CAOQmB,QAAQ,IAAE;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,GATD,EAUCG,KAVD,CAUOC,KAAK,IAAE;AACVH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,GAZD;AAcH;;GAlDuBhC,e;;KAAAA,e","sourcesContent":["/* \nThe purpose of this file is to evaluate view data for generating reports\nregarding analytics of application. \n*/\n\n\n\nimport { useState } from 'react';\n\nexport default function GetTabAnalytics(instance) {\n\n    const [ start, stop, tab ] = instance;\n\n    // time viewed tab\n    const timeDiff = stop - start;\n\n    const [ data, setData ] = useState(null);\n\n    // get analytic data about the evaluating tab\n    fetch(\"https://htxrockets.com/api/archived-game/0022101142/analytics/\" + tab + \"/\")\n    .then( (res) => res.json() )\n    .then( (res) => {\n        setData(res.a);\n    });\n\n    // update sum of views\n    const newSum = data.sum + 1;\n    // update logs \n    const newLogs = data.logs.append(timeDiff);\n    // update total time viewed\n    const newTotalTime = data.totalTime += timeDiff;\n    // update avg time viewed\n    const newAvg = newTotalTime / newLogs.length;\n    \n    // set new tab data\n    const thisState = {\n        tab: {\n            'views': newSum,\n            'logs': newLogs,\n            'totalTime': newTotalTime,\n            'avgTime': newAvg,\n        }\n    }\n\n    // update database \n    fetch(\"https://htxrockets.com/api/archived-game/0022101142/analytics/\" + tab + \"/\", {\n        method: 'PUT',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(thisState)\n    }).then(response=>{\n        console.log(response);\n    })\n    .catch(error=>{\n        console.log(error);\n    });\n\n}\n"]},"metadata":{},"sourceType":"module"}